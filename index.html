<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Mega cool programek give me the form</h1>

    <textarea id="text" name="text" rows="4" cols="50"></textarea>
    <button onclick="handleFormClick()">Submit</button>


    <h2>YEAH BRO give me the params and be cool</h2>

    <textarea id="searchParams" name="searchParams" rows="4" cols="50"></textarea>
    <button onclick="handleSearchParamsClick()">Submit</button>

    <div id="objectResult"></div>

    <script>
      function submitForm(form) {
        const formatedForm = form.replace(/\\"/g, '"').replace(/\n/g, " ");
        const formElement = new DOMParser().parseFromString(
          formatedForm,
          "text/html"
        ).body.childNodes[0];

        window.document.body.appendChild(formElement);
      }

      handleFormClick = () => {
        const value = document.getElementById("text").value;
        console.log(value)
        submitForm(value)
      }

      handleSearchParamsClick = () => {
        const value = document.getElementById("text").value;
        console.log(value)
        const url = new URLSearchParams(value)
        const object = Object.fromEntries(url)
        document.getElementById(objectResult).value = JSON.stringify(object)
      }

    </script>

  </body>
</html>
